(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e){e.exports={playlists:[{collaborative:!0,name:"Sample Playlist #1",id:"1hpVIFIaxoGcM173L1EcyW"},{collaborative:!0,name:"Sample Playlist #2",id:"37i9dQZF1DXbcPC6Vvqudd"}],playlistIdToCollaboratorsMap:{"1hpVIFIaxoGcM173L1EcyW":{orderedCollaborators:["dakary","syke117"],collaborators:{dakary:{name:"Zachary Graham",img:"https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=750624974982391&height=200&width=200&ext=1560183838&hash=AeQ6dx1QzY6oVwpk",primaryColor:"red",secondaryColor:"rgb(255, 0, 0, 0.2)",numTracksAdded:77,score:{acousticness:12.548602999999998,danceability:39.126,duration:15599781,energy:44.681,instrumentalness:4.6229824,loudness:-432.68699999999995,numTracks:65,popularity:3421,positivity:31.4637,speechiness:4.9388000000000005,tempo:7706.3910000000005},awards:{awardList:[{icon:"clock outline",text:"Longest avg song length"}]}},syke117:{name:"Johnny Appleseed",img:"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13716113_10208257889057340_555305655447473927_n.jpg?_nc_cat=110&_nc_ht=scontent.xx&oh=2d947086628c8cc9f00259233768c143&oe=5D5E718B",primaryColor:"blue",secondaryColor:"rgb(0, 0, 255, 0.2)",numTracksAdded:97,score:{acousticness:18.165781,danceability:29.403999999999993,duration:11556947,energy:29.109000000000005,instrumentalness:3.89048569,loudness:-412.844,numTracks:50,popularity:2833,positivity:25.566,speechiness:3.8871,tempo:5979.193999999999},awards:{awardList:[{icon:"group",text:"Most popular songs"},{icon:"battery zero",text:"Loves acoustic songs"},{icon:"wrench",text:"Enjoys real instruments"}]}}}},"37i9dQZF1DXbcPC6Vvqudd":{orderedCollaborators:["dakary","bigboi","bigbrain"],collaborators:{dakary:{name:"Zachary Graham",img:"https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=750624974982391&height=200&width=200&ext=1560183838&hash=AeQ6dx1QzY6oVwpk",primaryColor:"red",secondaryColor:"rgb(255, 0, 0, 0.2)",numTracksAdded:77,score:{acousticness:12.548602999999998,danceability:39.126,duration:15599781,energy:44.681,instrumentalness:4.6229824,loudness:-432.68699999999995,numTracks:65,popularity:3421,positivity:31.4637,speechiness:4.9388000000000005,tempo:7706.3910000000005},awards:{awardList:[{icon:"clock outline",text:"Longest avg song length"}]}},bigboi:{name:"Danny DeVito",img:"https://i.imgur.com/u0cXY0q.jpg",primaryColor:"blue",secondaryColor:"rgb(0, 0, 255, 0.2)",numTracksAdded:44,score:{acousticness:18.165781,danceability:29.403999999999993,duration:11556947,energy:29.109000000000005,instrumentalness:3.89048569,loudness:-412.844,numTracks:50,popularity:2833,positivity:25.566,speechiness:3.8871,tempo:5979.193999999999},awards:{awardList:[{icon:"wrench",text:"Enjoys real instruments"}]}},bigbrain:{name:"Jimmy Neutron",img:"https://i.imgur.com/MJjB68B.jpg",primaryColor:"yellow",secondaryColor:"rgb(255, 255, 0, 0.2)",numTracksAdded:39,score:{acousticness:8.919622999999998,danceability:24.334999999999994,duration:8454784,energy:26.30099999999999,instrumentalness:2.48599347,loudness:-265.344,numTracks:39,popularity:1584,positivity:23.063000000000006,speechiness:4.4099,tempo:4404.261},awards:{awardList:[{icon:"group",text:"Most popular songs"}]}}}}}}},109:function(e,t,a){e.exports={center_img:"CollabCard_center_img__2gM8l",card_border:"CollabCard_card_border__2EKzX"}},145:function(e,t,a){e.exports={"offset-header":"PlaylistAnalyzerApp_offset-header__1rCVP",container:"PlaylistAnalyzerApp_container__1vcYB"}},147:function(e){e.exports={duration:{icon:"clock outline",text:"Longest avg song length",id:"",val:0},popularity:{icon:"group",text:"Most popular songs",id:"",val:0},acousticness:{icon:"battery zero",text:"Loves acoustic songs",id:"",val:0},danceability:{icon:"child",text:"Enjoys dancing music",id:"",val:0},energy:{icon:"bolt",text:"High energy songs",id:"",val:0},tempo:{icon:"fire",text:"Fastest tempo songs",id:"",val:0},positivity:{icon:"plus square",text:"Most positive vibes",id:"",val:0},speechiness:{icon:"talk",text:"Enjoys spoken words",id:"",val:0},loudness:{icon:"volume up",text:"Turns it up to 11",id:"",val:0},instrumentalness:{icon:"wrench",text:"Enjoys real instruments",id:"",val:0}}},159:function(e,t,a){e.exports={"error-link":"Error_error-link__29Z1h"}},160:function(e,t,a){e.exports={"offset-header":"PlaylistPicker_offset-header__R4a8j"}},161:function(e,t,a){e.exports={"offset-header":"CollabCardsFrame_offset-header__2BJtl"}},162:function(e,t,a){e.exports=a.p+"static/media/defaultProfilePic.7ebfc7c0.png"},178:function(e,t,a){e.exports=a(332)},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),s=a.n(o),i=(a(183),a(9)),l=a(10),c=a(20),u=a(18),A=a(19),d=a(24),p=a(58),h=a(40),m=a(25),b=a(335),y=a(36),f=a(144),C=a(8),g="ACTIVATE_COLLABORATORS",E="TOGGLE_COLLABORATOR_CARD",v={playlists:[],loading:!1,error:null,token:null,loggedIn:!1,demo:!1},O={playlistChosen:!1,playlistName:"",loading:!1,error:null},k={loading:!1,error:null,orderedCollaborators:[],collaborators:{},collabInfoLoaded:!1,collabAwardsLoaded:!1},I=function(e,t,a){var n={},r=function(r){n[r]=Object(C.a)({},a[r]),t.forEach(function(t){n[r][t]=e[r][t]})};for(var o in e)r(o);return n},j={activeCollaborators:{}},w=Object(y.c)({playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLISTS_LOADING":return Object(C.a)({},e,{loading:!0});case"FETCH_PLAYLISTS_SUCCESS":return Object(C.a)({},e,{loading:!1,playlists:t.playlists});case"FETCH_PLAYLISTS_FAILURE":return Object(C.a)({},e,{loading:!1,error:t.payload,playlists:[]});case"ACTIVATE_LOGGED_IN":return Object(C.a)({},e,{loggedIn:!0,token:t.token});case"ACTIVATE_DEMO":return Object(C.a)({},e,v,{demo:!0});case"CHOOSE_NEW_PLAYLIST":return Object(C.a)({},e,v,{token:e.token,demo:e.demo,loggedIn:e.loggedIn});case"RESTART_APP":return Object(C.a)({},e,v);default:return e}},playlistInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYLIST_CHOSEN_TRACK_INFO_LOADING":return Object(C.a)({},e,{playlistChosen:!0,playlistName:t.playlistName,loading:!0});case"FETCH_TRACKS_INFO_SUCCESS":return Object(C.a)({},e,{loading:!1});case"FETCH_TRACKS_INFO_FAILURE":return Object(C.a)({},e,{error:t.payload,loading:!1});case"CHOOSE_NEW_PLAYLIST":case"RESTART_APP":return Object(C.a)({},e,O);default:return e}},collabInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TRACKS_INFO_SUCCESS":return Object(C.a)({},e,{collaborators:Object(C.a)({},I(t.payload.collaborators,["id","primaryColor","secondaryColor","numTracksAdded"],e.collaborators)),orderedCollaborators:t.payload.order});case"FETCH_COLLABORATOR_INFO_SUCCESS":return Object(C.a)({},e,{collaborators:Object(C.a)({},I(t.collaborators,["img","name"],e.collaborators)),collabInfoLoaded:!0});case"FETCH_COLLABORATOR_AF_AWARDS_SUCCESS":return Object(C.a)({},e,{collaborators:Object(C.a)({},I(t.collaborators,["awards","score"],e.collaborators)),collabAwardsLoaded:!0});case"CHOOSE_NEW_PLAYLIST":case"RESTART_APP":return Object(C.a)({},e,k);default:return e}},activeCollab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(C.a)({},e,{activeCollaborators:t.activeCollaborators});case E:var a=Object.assign({},e.activeCollaborators);return a[t.payload]=!a[t.payload],Object(C.a)({},e,{activeCollaborators:Object(C.a)({},a)});case"CHOOSE_NEW_PLAYLIST":case"RESTART_APP":return Object(C.a)({},e,j);default:return e}}}),T=[f.a],_=Object(y.e)(w,{},Object(y.d)(y.a.apply(void 0,T))),S=a(145),R=a.n(S),B=window.location,D=B.origin,L=D+B.pathname,x=a(337),N=a(340),Q=a(336),F=a(50),P=a(338),H=a(79),G=a.n(H),Y=a(103),U=a.n(Y),M=a(168),Z=a(146),J=a(104),K=a.n(J),V=function(){function e(t){Object(i.a)(this,e),t?(this.duration=t.duration,this.popularity=t.popularity,this.acousticness=t.acousticness,this.danceability=t.danceability,this.energy=t.energy,this.tempo=t.tempo,this.positivity=t.positivity,this.speechiness=t.speechiness,this.loudness=t.loudness,this.instrumentalness=t.instrumentalness):(this.numTracks=0,this.duration=0,this.popularity=0,this.acousticness=0,this.danceability=0,this.energy=0,this.tempo=0,this.positivity=0,this.speechiness=0,this.loudness=0,this.instrumentalness=0)}return Object(l.a)(e,[{key:"increaseNumTracks",value:function(){this.numTracks+=1}},{key:"increaseDuration",value:function(e){this.duration+=e}},{key:"increasePopularity",value:function(e){this.popularity+=e}},{key:"increaseAcousticness",value:function(e){this.acousticness+=e}},{key:"increaseDanceability",value:function(e){this.danceability+=e}},{key:"increaseEnergy",value:function(e){this.energy+=e}},{key:"increaseTempo",value:function(e){this.tempo+=e}},{key:"increasePositivity",value:function(e){this.positivity+=e}},{key:"increaseSpeechiness",value:function(e){this.speechiness+=e}},{key:"increaseLoudness",value:function(e){this.loudness+=e}},{key:"increaseInstrumentalness",value:function(e){this.instrumentalness+=e}},{key:"getAverages",value:function(){var e=this.numTracks;return{popularity:this.popularity/e,acousticness:this.acousticness/e,danceability:this.danceability/e,energy:this.energy/e,tempo:this.tempo/e,positivity:this.positivity/e,speechiness:this.speechiness/e,loudness:this.loudness/e,instrumentalness:this.instrumentalness/e,duration:this.duration/e}}}]),e}(),W=3,z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(i.a)(this,e),t.length>W?this.awardList=t.slice(0,W):this.awardList=t}return Object(l.a)(e,[{key:"addAward",value:function(e){return!(this.awardList.length>W||!e.id)&&(this.awardList.push(e),!0)}}]),e}(),q=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(i.a)(this,e),this.id=t,this.trackIds=a,this.numTracksAdded=a.length,this.img=null,this.name=null,this.score=new V,this.awards=new z}return Object(l.a)(e,[{key:"addTrackId",value:function(e){this.trackIds.push(e),this.score.increaseNumTracks(),this.numTracksAdded++}},{key:"setImage",value:function(e){this.img=e}},{key:"setName",value:function(e){this.name=e}},{key:"getNumTracks",value:function(){return this.trackIds.length}}]),e}(),X=a(147),$=["red","blue","yellow","green","orange","purple","hotpink","aqua"],ee=["rgb(255, 0, 0, 0.2)","rgb(0, 0, 255, 0.2)","rgb(255, 255, 0, 0.2)","rgb(0, 128, 0, 0.2)","rgb(255, 165, 0, 0.2)","rgb(128, 0, 128, 0.2)","rgb(255, 105, 180, 0.2)","rgb(0, 255, 255, 0.2)"],te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),this.collabIdToCollabObj=t,this.collabOrder=[],this.trackIdToCollabId={},this.awards=JSON.parse(JSON.stringify(X));var a=0;for(var n in t)for(var r in this.collabOrder.push(n),this.collabIdToCollabObj[n].primaryColor=$[a%$.length],this.collabIdToCollabObj[n].secondaryColor=ee[a%ee.length],a++,t[n].trackIds)this.trackIdToCollabId[t[n].trackIds[r]]=n};var ae=a(105),ne=function(e){return{type:"ACTIVATE_LOGGED_IN",token:e}},re=function(){return{type:"ACTIVATE_DEMO"}},oe=function(){return{type:"FETCH_PLAYLISTS_LOADING"}},se=function(e){return{type:"FETCH_PLAYLISTS_SUCCESS",playlists:e}},ie=function(e,t){return{type:"FETCH_PLAYLISTS_FAILURE",payload:{msg:e,linkText:t}}},le=function(e){return{type:"PLAYLIST_CHOSEN_TRACK_INFO_LOADING",playlistName:e}},ce=function(e){return{type:"FETCH_TRACKS_INFO_SUCCESS",payload:{collaborators:e.collaborators,order:e.order}}},ue=function(e){return{type:"FETCH_TRACKS_INFO_FAILURE",payload:e}},Ae=function(e){return{type:"FETCH_COLLABORATOR_INFO_SUCCESS",collaborators:e}},de=function(e){return{type:"FETCH_COLLABORATOR_INFO_FAILURE",payload:e}},pe=function(e){return{type:"FETCH_COLLABORATOR_AF_AWARDS_SUCCESS",collaborators:e}},he=function(e){return{type:"FETCH_COLLABORATOR_AF_AWARDS_FAILURE",payload:e}},me=function(e){return{type:g,activeCollaborators:Object.keys(e).reduce(function(e,t){return e[t]=!0,e},{})}},be=function(){return{type:"CHOOSE_NEW_PLAYLIST"}},ye=function(){return{type:"RESTART_APP"}};function fe(){return(fe=Object(Z.a)(U.a.mark(function e(t,a,n){var r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[];case 1:if(!a){e.next=7;break}return e.next=4,K()(a,{method:"GET",headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()}).then(function(e){return r.push.apply(r,Object(M.a)(e.items)),e.next}).catch(function(e){return n(ue(e))});case 4:a=e.sent,e.next=1;break;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ce=function(){return ae.playlists};var ge=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(l.a)(t,[{key:"handleClickChooseNewPlaylist",value:function(){this.props.history.push({pathname:"/spa/choose-playlist"}),this.props.chooseNewPlaylist()}},{key:"handleClickLoginOrDemo",value:function(){this.props.history.push({pathname:"/spa"}),this.props.restartApp()}},{key:"render",value:function(){var e=this,t=this.props.loggedIn,a=this.props.demo;return r.a.createElement(x.a,{className:G.a["no-box-shadow"],fixed:"top"},r.a.createElement(x.a.Item,null,r.a.createElement(N.a,{as:"h1"},this.props.children)),r.a.createElement(x.a.Menu,{position:"right"},(t||a)&&r.a.createElement(x.a.Item,null,r.a.createElement(Q.a,{onClick:function(){return e.handleClickLoginOrDemo()},animated:!0,className:G.a.loginOrDemo},t&&r.a.createElement(Q.a.Content,{visible:!0},"Demo"),a&&r.a.createElement(Q.a.Content,{visible:!0},"Login"),r.a.createElement(Q.a.Content,{hidden:!0},r.a.createElement(F.a,{name:"arrow left"})))),this.props.playlistChosen&&r.a.createElement(x.a.Item,null,r.a.createElement(Q.a,{onClick:function(){return e.handleClickChooseNewPlaylist()},animated:!0,className:G.a.chooseDiffPlaylist},r.a.createElement(Q.a.Content,{visible:!0},"Choose Playlist"),r.a.createElement(Q.a.Content,{hidden:!0},r.a.createElement(F.a,{name:"arrow left"})))),r.a.createElement(x.a.Item,null,r.a.createElement(P.a.Column,{width:3},r.a.createElement(Q.a,{href:D},"Homepage")))))}}]),t}(n.Component),Ee=Object(h.e)(Object(d.b)(function(e){return{loggedIn:e.playlists.loggedIn,demo:e.playlists.demo,playlistChosen:e.playlistInfo.playlistChosen}},{chooseNewPlaylist:function(){return function(e){e(be())}},restartApp:function(){return function(e){e(ye())}}})(ge)),ve=a(158),Oe=a(339),ke=a(159),Ie=a.n(ke),je=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,{centered:!0,columns:2},r.a.createElement(P.a.Column,null,r.a.createElement(Oe.a,{inverted:!0,color:"red",secondary:!0},this.props.msg,r.a.createElement("p",null,r.a.createElement("a",{className:Ie.a["error-link"],href:this.props.link?this.props.link:L},this.props.linkText)))))}}]),t}(n.Component),we="login",Te="demo",_e=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){switch(t){case we:return void a.sendUserToSpotifyAuthorize();case Te:return void a.props.startDemo();default:return}};var n=a.getAccessToken();return n&&a.props.userLoggedIn(n),a}return Object(A.a)(t,e),Object(l.a)(t,[{key:"getAccessToken",value:function(){var e=Object(ve.parse)(B.hash);return e&&e.access_token}},{key:"sendUserToSpotifyAuthorize",value:function(){var e="https://accounts.spotify.com/authorize?client_id=9e240701125547c69d71dce42a0c120b&response_type=token&redirect_uri="+B.href+"&scope=playlist-read-private playlist-read-collaborative";B.replace(encodeURI(e))}},{key:"render",value:function(){var e=this,t=this.props.error;return t?r.a.createElement(je,{msg:t.msg,link:t.link,linkText:t.linkText}):this.props.loggedIn||this.props.demo?r.a.createElement(h.a,{to:"/spa/choose-playlist"}):r.a.createElement(P.a,{centered:!0},r.a.createElement(P.a.Column,{textAlign:"center",width:10},r.a.createElement(Q.a.Group,null,r.a.createElement(Q.a,{onClick:function(t){return e.handleClick(t,we)},positive:!0},"Login to Analyze Your Playlists"),r.a.createElement(Q.a.Or,null),r.a.createElement(Q.a,{onClick:function(t){return e.handleClick(t,Te)}},"Demo Playlist"))))}}]),t}(n.Component),Se=Object(d.b)(function(e){return{loggedIn:e.playlists.loggedIn,demo:e.playlists.demo}},{startDemo:function(){return function(e){e(re())}},userLoggedIn:function(e){return function(t){t(ne(e))}}})(_e),Re=a(166),Be=a(160),De=a.n(Be),Le=a(77),xe=a.n(Le),Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).props.demo?a.props.loadDemoPlaylists():a.props.token&&a.props.fetchPlaylists(a.props.token),a}return Object(A.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e,t,a){this.props.demo?this.props.startAnalyzerDemo(t,a):this.props.token&&this.props.fetchPlaylistInfo(this.props.token,t)}},{key:"extractCollabPlaylists",value:function(){var e=this,t=this.props.playlists;if(t){for(var a=[],n=function(n){t[n].collaborative&&a.push(r.a.createElement(x.a.Item,{onClick:function(a){return e.handleClick(a,t[n],t[n].id)},key:t[n].id,as:"a",name:t[n].name},t[n].name))},o=0;o<t.length;o++)n(o);return a}return t}},{key:"render",value:function(){var e=this.props.error;if(e)return r.a.createElement(je,{msg:e.msg,link:e.link,linkText:e.linkText});if(this.props.playlistChosen&&!this.props.loading)return r.a.createElement(h.a,{to:"/spa/analyze-playlist"});var t=this.extractCollabPlaylists(),a=this.props.loading&&r.a.createElement(Re.a,{src:xe.a,centered:!0});return!this.props.playlistChosen&&r.a.createElement("div",null,r.a.createElement(N.a,{className:De.a["offset-header"],textAlign:"center",as:"h2"}," Choose a playlist:"),r.a.createElement(P.a,{centered:!0},r.a.createElement(P.a.Column,{width:10},!this.props.loading&&r.a.createElement(x.a,{inverted:!0,fluid:!0,vertical:!0},r.a.createElement(x.a.Item,{header:!0},"Collaborative Playlists"),t),a)))}}]),t}(n.Component),Qe=Object(d.b)(function(e){return{playlists:e.playlists.playlists,loading:e.playlists.loading,error:e.playlists.error,demo:e.playlists.demo,token:e.playlists.token,playlistChosen:e.playlistInfo.playlistChosen}},{fetchPlaylists:function(e){return function(t){t(oe()),K()("https://api.spotify.com/v1/me/playlists",{method:"GET",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){t(se(e.items))}).catch(function(e){t(ie("Something went wrong with the connection to the Spotify API","Try with new token!"))})}},fetchPlaylistInfo:function(e,t){return function(a){a(le(t.name)),function(e,t,a){return fe.apply(this,arguments)}(e,t.tracks.href,a).then(function(e){return function(e){var t,a={};return e.forEach(function(e){t=e.added_by.id,a[t]||(a[t]=new q(t)),a[t].addTrackId(e.track.id),a[t].score.increasePopularity(e.track.popularity),a[t].score.increaseDuration(e.track.duration_ms)}),new te(a)}(e)}).then(function(e){var t=e.collabIdToCollabObj;return a(ce({collaborators:t,order:e.collabOrder})),a(me(t)),e}).then(function(t){!function(e,t,a){(function(e,t){var a=[];for(var n in t.collabIdToCollabObj)a.push(fetch("https://api.spotify.com/v1/users/"+n,{method:"GET",headers:{Authorization:"Bearer "+e}}));return Promise.all(a).then(function(e){var a=[];return e.forEach(function(e){a.push(e.json())}),Promise.all(a).then(function(e){e.forEach(function(e){t.collabIdToCollabObj[e.id].setImage(e.images[0].url),t.collabIdToCollabObj[e.id].setName(e.display_name)})})}).then(function(){return t.collabIdToCollabObj})})(e,a).then(function(e){t(Ae(e))}).catch(function(e){t(de(e))}),function(e,t){var a,n,r,o=[];for(var s in t.collabIdToCollabObj){r=t.collabIdToCollabObj[s].trackIds,n=Math.ceil(r.length/100);for(var i=0;i<n;i++)a=r.slice(0,100).join(),o.push(fetch("https://api.spotify.com/v1/audio-features/?ids="+a,{method:"GET",headers:{Authorization:"Bearer "+e}}))}return Promise.all(o)}(e,a).then(function(e){var t=[];return e.forEach(function(e){t.push(e.json())}),Promise.all(t)}).then(function(e){e.forEach(function(e){!function(e,t){var a;e.forEach(function(e){(a=t.collabIdToCollabObj[t.trackIdToCollabId[e.id]]).score.increaseAcousticness(e.acousticness),a.score.increaseDanceability(e.danceability),a.score.increaseEnergy(e.energy),a.score.increaseInstrumentalness(e.instrumentalness),a.score.increaseLoudness(e.loudness),a.score.increaseTempo(e.tempo),a.score.increasePositivity(e.valence),a.score.increaseSpeechiness(e.speechiness)})}(e.audio_features,a)})}).then(function(){return function(e){var t,a,n,r=e.collabIdToCollabObj;for(var o in r){a=(t=r[o]).getNumTracks(),n=t.score.getAverages(a);var s=void 0,i=void 0;for(var l in n)(s=n[l])>(i=e.awards[l]).val&&(i.id=o,i.val=s)}var c=e.awards;for(var u in c)r[c[u].id]&&r[c[u].id].awards.addAward(c[u])}(a),function(e){return e.collabIdToCollabObj}(a)}).then(function(e){t(pe(e))}).catch(function(e){return t(he(e))})}(e,a,t)})}},loadDemoPlaylists:function(){return function(e){e(oe());var t=Ce();e(se(t))}},startAnalyzerDemo:function(e,t){return function(a){var n=ae.playlistIdToCollaboratorsMap[t],r=n.collaborators,o=n.orderedCollaborators;a(le(e.name)),a(ce({collaborators:r,order:o})),a(me(r)),a(Ae(r)),a(pe(r))}}})(Ne),Fe=a(163),Pe=a(161),He=a.n(Pe);function Ge(e){return function(t){t({type:E,payload:e})}}var Ye=a(167),Ue=a(109),Me=a.n(Ue),Ze=a(162),Je=a.n(Ze),Ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.toggleActiveCollaborator(a.props.id)},a}return Object(A.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.collaborator;if(!e)return null;var t=e.awards&&e.awards.awardList,a=e.name?e.name:"Unknown",n=e.primaryColor,o=e.img?e.img:Je.a,s=n&&this.props.active?n:"grey",i=e.numTracksAdded?e.numTracksAdded:"?",l=[];if(t)for(var c=0;c<t.length;c++)l.push(r.a.createElement("p",{key:t[c].icon},r.a.createElement(F.a,{name:t[c].icon,size:"small"}),r.a.createElement("span",null,t[c].text)));return r.a.createElement(Ye.a,{link:!0,className:Me.a.card_border,style:{borderColor:s},onClick:this.handleClick},r.a.createElement(Oe.a,{style:{marginBottom:0},basic:!0},r.a.createElement(Re.a,{className:Me.a.center_img,style:{borderColor:s},width:"200",height:"200",circular:!0,src:o,wrapped:!0})),r.a.createElement(Ye.a.Content,null,r.a.createElement(Ye.a.Header,null,a),r.a.createElement(Ye.a.Meta,null," Added ",i," tracks "),r.a.createElement(Ye.a.Description,null,l)))}}]),t}(n.Component),Ve=Object(d.b)(function(e,t){return{active:e.activeCollab.activeCollaborators[t.id],collaborator:e.collabInfo.collaborators[t.id]}},{toggleActiveCollaborator:Ge})(Ke),We=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(l.a)(t,[{key:"createCards",value:function(){var e=[];return this.props.collaboratorIds.forEach(function(t){e.push(r.a.createElement(Ve,{key:"card_"+t,id:t}))}),e}},{key:"render",value:function(){if(this.props.error)return r.a.createElement(je,{msg:this.props.error});if(this.props.loading)return r.a.createElement(Re.a,{src:xe.a,centered:!0});var e=this.props.playlistName,t=this.createCards();return r.a.createElement("div",null,r.a.createElement(N.a,{className:He.a["offset-header"],textAlign:"center",as:"h2"},e?'Playlist "'+e+'" Analysis':""),r.a.createElement(Fe.a,{centered:!0,itemsPerRow:5},t))}}]),t}(n.Component),ze=Object(d.b)(function(e){return{playlistName:e.playlistInfo.playlistName,loading:e.playlistInfo.loading,error:e.playlistInfo.error,collaboratorIds:e.collabInfo.orderedCollaborators}},{})(We),qe=a(164),Xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).legendClickHandler=function(e,t){a.props.toggleActiveCollaborator(a.props.orderedCollaborators[t.datasetIndex])},a.getDatasets=function(){var e=a.props.collaborators,t=[];return a.props.orderedCollaborators.forEach(function(n){var r=e[n],o={},s=r.score.numTracks;o.acousticness=r.score.acousticness/s,o.danceability=r.score.danceability/s,o.energy=r.score.energy/s,o.instrumentalness=r.score.instrumentalness/s,o.speechiness=r.score.speechiness/s,o.positivity=r.score.positivity/s;var i={label:r.name,data:[o.acousticness,o.danceability,o.energy,o.instrumentalness,o.speechiness,o.positivity],fill:!0,backgroundColor:r.secondaryColor,borderColor:r.primaryColor,pointBackgroundColor:r.primaryColor,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:r.primaryColor,hidden:!a.props.active[n]};t.push(i)}),t},a.labels=["Acousticness","Danceability","Energy","Instrumentalness","Speechiness","Valence"],a.options={scale:{ticks:{beginAtZero:!0,max:1}},legend:{onClick:a.legendClickHandler}},a}return Object(A.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(!this.props.collabAwardsLoaded)return null;var e={labels:this.labels,datasets:this.getDatasets()};return this.props.collabAwardsLoaded&&r.a.createElement(P.a,{centered:!0},r.a.createElement(P.a.Column,{width:10},r.a.createElement(qe.a,{data:e,options:this.options,width:50,height:50})))}}]),t}(n.Component),$e=Object(d.b)(function(e){return{collaborators:e.collabInfo.collaborators,orderedCollaborators:e.collabInfo.orderedCollaborators,collabInfoLoaded:e.collabInfo.collabInfoLoaded,collabAwardsLoaded:e.collabInfo.collabAwardsLoaded,active:e.activeCollab.activeCollaborators}},{toggleActiveCollaborator:Ge})(Xe),et=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"analyzer_page"},r.a.createElement(ze,null),r.a.createElement($e,null))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(A.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(je,{msg:"Something went wrong!",linkText:"Try again!"}):this.props.children}}]),t}(n.Component),at=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:_},r.a.createElement(p.a,{history:Object(m.a)()},r.a.createElement(b.a,{className:R.a.container},r.a.createElement(Ee,null,"Spotify Playlist Analyzer"),r.a.createElement(tt,null,r.a.createElement(h.b,{exact:!0,path:"/spa",render:function(e){return r.a.createElement(Se,null)}}),r.a.createElement(h.b,{path:"/spa/choose-playlist",render:function(e){return r.a.createElement(Qe,null)}}),r.a.createElement(h.b,{path:"/spa/analyze-playlist",render:function(e){return r.a.createElement(et,null)}})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t){e.exports="data:image/gif;base64,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"},79:function(e,t,a){e.exports={"offset-header":"AnalyzerHeader_offset-header__Ujiqx","no-box-shadow":"AnalyzerHeader_no-box-shadow__4ibja",chooseDiffPlaylist:"AnalyzerHeader_chooseDiffPlaylist__38FHw",loginOrDemo:"AnalyzerHeader_loginOrDemo__XVg53"}}},[[178,1,2]]]);
//# sourceMappingURL=main.95e94c7e.chunk.js.map