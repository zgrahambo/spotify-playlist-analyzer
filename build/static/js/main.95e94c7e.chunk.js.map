{"version":3,"sources":["components/AnalyzerPage/CollabCard/CollabCard.module.scss","PlaylistAnalyzerApp/PlaylistAnalyzerApp.module.scss","components/error-handling/Error/Error.module.scss","components/PlaylistPicker/PlaylistPicker.module.scss","components/AnalyzerPage/CollabCardsFrame/CollabCardsFrame.module.scss","img/defaultProfilePic.png","actions/types.js","reducers/playlistPickerReducer.js","reducers/playlistInfoReducer.js","reducers/collabInfoReducer.js","reducers/activeCollabReducer.js","reducers/index.js","store.js","util/site.js","spotify/Score.js","spotify/PersonalAwards.js","spotify/Collaborator.js","spotify/CollabGroup.js","actions/actions.js","actions/spotifyActionCreators.js","components/AnalyzerHeader/AnalyzerHeader.js","components/error-handling/Error/Error.js","components/LoginOrDemo/LoginOrDemo.js","components/PlaylistPicker/PlaylistPicker.js","spotify/utils.js","actions/individualCollabActions.js","components/AnalyzerPage/CollabCard/CollabCard.js","components/AnalyzerPage/CollabCardsFrame/CollabCardsFrame.js","components/AnalyzerPage/CollabChart/CollabChart.js","components/AnalyzerPage/AnalyzerPage.js","components/error-handling/ErrorBoundary.js","PlaylistAnalyzerApp/PlaylistAnalyzerApp.js","serviceWorker.js","index.js","img/loading.gif","components/AnalyzerHeader/AnalyzerHeader.module.scss"],"names":["module","exports","center_img","card_border","offset-header","container","error-link","__webpack_require__","p","ACTIVATE_COLLABORATORS","TOGGLE_COLLABORATOR_CARD","initialState","playlists","loading","error","token","loggedIn","demo","playlistChosen","playlistName","orderedCollaborators","collaborators","collabInfoLoaded","collabAwardsLoaded","updateCollaboratorProps","properties","prevCollabsState","updatedCollaborators","_loop","id","Object","objectSpread","forEach","property","activeCollaborators","combineReducers","state","arguments","length","undefined","action","type","payload","playlistInfo","collabInfo","order","activeCollab","collabStates","assign","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","windowLoc","window","location","homeUrl","origin","spaUrl","pathname","Score","scoreSet","classCallCheck","this","duration","popularity","acousticness","danceability","energy","tempo","positivity","speechiness","loudness","instrumentalness","numTracks","createClass","key","value","n","maxAmountOfAwards","PersonalAwards","awardList","slice","award","push","Collaborator","trackIds","numTracksAdded","img","name","score","awards","trackId","increaseNumTracks","primaryColors","secondaryColors","CollabGroup","collabIdToCollabObj","collabOrder","trackIdToCollabId","JSON","parse","stringify","i","trackIndex","primaryColor","secondaryColor","activateLoggedIn","activateDemo","startPlaylistPickerLoading","loadedPlaylistsSuccessfully","failedToLoadPlaylists","errMsg","errLinkMsg","msg","linkText","startedLoadingPlaylistInfo","successfullyLoadedPlaylistInfo","failedToLoadPlaylistInfo","successfullyLoadedCollaboratorInfo","failedToLoadCollaboratorInfo","successfullyLoadedAudioFeatureAwards","failedToLoadedAudioFeatureAwards","activateCollaborator","keys","reduce","obj","currentValue","chooseNewPlaylistAction","restartAppAction","_callee","tracksLink","dispatch","tracks","regenerator_default","a","wrap","_context","prev","next","fetch","method","headers","Authorization","then","res","json","data","toConsumableArray","items","catch","err","sent","abrupt","stop","getDemoPlaylists","AnalyzerHeader","props","history","chooseNewPlaylist","restartApp","_this","react_default","createElement","Menu","className","headerStyle","fixed","Item","Header","as","children","position","Button","onClick","handleClickLoginOrDemo","animated","loginOrDemo","Content","visible","hidden","Icon","handleClickChooseNewPlaylist","chooseDiffPlaylist","Grid","Column","width","href","Component","withRouter","connect","Error","centered","columns","Segment","inverted","color","secondary","errStyle","link","LOGIN_TYPE","DEMO_TYPE","LoginOrDemo","possibleConstructorReturn","getPrototypeOf","call","handleClick","e","sendUserToSpotifyAuthorize","startDemo","getAccessToken","userLoggedIn","hash","access_token","spotifyURI","replace","encodeURI","_this2","error_handling_Error_Error","react_router","to","textAlign","Group","positive","Or","PlaylistPicker","loadDemoPlaylists","fetchPlaylists","playlistId","startAnalyzerDemo","fetchPlaylistInfo","menuItems","collaborative","extractCollabPlaylists","loadingSpinner","Image","src","loading_gif","ppStyle","fluid","vertical","header","fetchPlaylistTracksInfo","currentCollaboratorId","track","added_by","addTrackId","increasePopularity","increaseDuration","duration_ms","generateCollabGroupObject","collabGroup","promises","collaboratorID","Promise","all","collabData","setImage","images","url","setName","display_name","getCollaboratorData","collaboratorsInfo","stringTrackIds","numCallsForThisCollaborator","Math","ceil","join","fetchAudioFeatures","audioFeature","audioFeatures","audioFeaturesArray","currentCollaborator","increaseAcousticness","increaseDanceability","increaseEnergy","increaseInstrumentalness","increaseLoudness","increaseTempo","increasePositivity","valence","increaseSpeechiness","collectAllUsersAFScores","audio_features","collaborator","averages","getNumTracks","getAverages","averageAF","currentAward","audioFeatureName","val","addAward","chooseEachCollabsAwards","getCollaboratorObjects","createCollabCards","collaboratorInfo","playlistIdToCollaboratorsMap","toggleActiveCollaborator","CollabCard","awardsArray","image","defaultProfilePic","cardColor","active","icon","size","text","Card","ccStyle","style","borderColor","marginBottom","basic","height","circular","wrapped","Meta","Description","CollabCardsFrame","cards","collaboratorIds","collaboratorId","AnalyzerPage_CollabCard_CollabCard","createCards","ccfStyle","CardGroup","itemsPerRow","CollabChart","legendClickHandler","clickEvent","legendClicked","datasetIndex","getDatasets","datasets","collabID","avgs","dataset","label","fill","backgroundColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","labels","options","scale","ticks","beginAtZero","max","legend","react_chartjs_2_es","AnalyzerPage","AnalyzerPage_CollabCardsFrame_CollabCardsFrame","AnalyzerPage_CollabChart_CollabChart","ErrorBoundary","hasError","info","setState","PlaylistAnalyzerApp","es","react_router_dom","createBrowserHistory","Container","appStyle","components_AnalyzerHeader_AnalyzerHeader","error_handling_ErrorBoundary","exact","path","render","components_LoginOrDemo_LoginOrDemo","components_PlaylistPicker_PlaylistPicker","components_AnalyzerPage_AnalyzerPage","Boolean","hostname","match","ReactDOM","src_PlaylistAnalyzerApp_PlaylistAnalyzerApp","document","getElementById","navigator","serviceWorker","ready","registration","unregister","no-box-shadow"],"mappings":"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","file":"static/js/main.95e94c7e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"center_img\":\"CollabCard_center_img__2gM8l\",\"card_border\":\"CollabCard_card_border__2EKzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"offset-header\":\"PlaylistAnalyzerApp_offset-header__1rCVP\",\"container\":\"PlaylistAnalyzerApp_container__1vcYB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error-link\":\"Error_error-link__29Z1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"offset-header\":\"PlaylistPicker_offset-header__R4a8j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"offset-header\":\"CollabCardsFrame_offset-header__2BJtl\"};","module.exports = __webpack_public_path__ + \"static/media/defaultProfilePic.7ebfc7c0.png\";","export const FETCH_PLAYLISTS_LOADING = 'FETCH_PLAYLISTS_LOADING';\nexport const FETCH_PLAYLISTS_SUCCESS = 'FETCH_PLAYLISTS_SUCCESS';\nexport const FETCH_PLAYLISTS_FAILURE = 'FETCH_PLAYLISTS_FAILURE';\n\nexport const ACTIVATE_LOGGED_IN = 'ACTIVATE_LOGGED_IN';\nexport const ACTIVATE_DEMO = 'ACTIVATE_DEMO';\n\nexport const CHOOSE_NEW_PLAYLIST = 'CHOOSE_NEW_PLAYLIST';\nexport const RESTART_APP = 'RESTART_APP';\n\nexport const PLAYLIST_CHOSEN_TRACK_INFO_LOADING = 'PLAYLIST_CHOSEN_TRACK_INFO_LOADING';\nexport const FETCH_TRACKS_INFO_SUCCESS = 'FETCH_TRACKS_INFO_SUCCESS';\nexport const FETCH_TRACKS_INFO_FAILURE = 'FETCH_TRACKS_INFO_FAILURE';\n\nexport const FETCH_COLLABORATOR_INFO_SUCCESS = 'FETCH_COLLABORATOR_INFO_SUCCESS';\nexport const FETCH_COLLABORATOR_INFO_FAILURE = 'FETCH_COLLABORATOR_INFO_FAILURE';\nexport const FETCH_COLLABORATOR_AF_AWARDS_SUCCESS = 'FETCH_COLLABORATOR_AF_AWARDS_SUCCESS';\nexport const FETCH_COLLABORATOR_AF_AWARDS_FAILURE = 'FETCH_COLLABORATOR_AF_AWARDS_FAILURE';\n\nexport const ACTIVATE_COLLABORATORS = 'ACTIVATE_COLLABORATORS';\nexport const TOGGLE_COLLABORATOR_CARD = 'TOGGLE_COLLABORATOR_CARD';","import { FETCH_PLAYLISTS_LOADING,\n         FETCH_PLAYLISTS_SUCCESS,\n         FETCH_PLAYLISTS_FAILURE,\n         ACTIVATE_DEMO,\n         CHOOSE_NEW_PLAYLIST, \n         ACTIVATE_LOGGED_IN,\n         RESTART_APP} from \"../actions/types\";\n\nconst initialState = {\n  playlists: [],\n  loading: false,\n  error: null,\n  token: null,\n  loggedIn: false,\n  demo: false\n};\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case FETCH_PLAYLISTS_LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    case FETCH_PLAYLISTS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        playlists: action.playlists\n      };\n    case FETCH_PLAYLISTS_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        playlists: []\n      };\n    case ACTIVATE_LOGGED_IN:\n      return {\n        ...state,\n        loggedIn: true,\n        token: action.token\n      }\n    case ACTIVATE_DEMO:\n      return {\n        ...state,\n        ...initialState,\n        demo: true\n      }\n    case CHOOSE_NEW_PLAYLIST:\n      return {\n        ...state,\n        ...initialState,\n        token: state.token,\n        demo: state.demo,\n        loggedIn: state.loggedIn\n      }\n    case RESTART_APP:\n      return {\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}","import {\n  PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n  FETCH_TRACKS_INFO_SUCCESS,\n  FETCH_TRACKS_INFO_FAILURE,\n  CHOOSE_NEW_PLAYLIST,\n  RESTART_APP } from '../actions/types';\n\nconst initialState = {\n  playlistChosen: false,\n  playlistName: \"\",\n  loading: false,\n  error: null\n};\n\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case PLAYLIST_CHOSEN_TRACK_INFO_LOADING:\n      return {\n        ...state,\n        playlistChosen: true,\n        playlistName: action.playlistName,\n        loading: true\n      };\n    case FETCH_TRACKS_INFO_SUCCESS:\n      return {\n        ...state,\n        loading: false\n      };\n    case FETCH_TRACKS_INFO_FAILURE:\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      };\n    case CHOOSE_NEW_PLAYLIST:\n      return {\n        ...state,\n        ...initialState\n      };\n    case RESTART_APP:\n      return {\n        ...state,\n        ...initialState\n      };\n    default:\n      return state;\n  }\n}","import {\n  FETCH_TRACKS_INFO_SUCCESS,\n  FETCH_COLLABORATOR_INFO_SUCCESS,\n  FETCH_COLLABORATOR_AF_AWARDS_SUCCESS,\n  CHOOSE_NEW_PLAYLIST,\n  RESTART_APP } from '../actions/types';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  orderedCollaborators: [],\n  collaborators: {},\n  collabInfoLoaded: false,\n  collabAwardsLoaded: false\n};\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case FETCH_TRACKS_INFO_SUCCESS:\n      return {\n        ...state,\n        collaborators: {\n          ...updateCollaboratorProps(action.payload.collaborators, ['id', 'primaryColor', 'secondaryColor', 'numTracksAdded'], state.collaborators)\n        },\n        orderedCollaborators: action.payload.order,\n      };\n    case FETCH_COLLABORATOR_INFO_SUCCESS:\n      return {\n        ...state,\n        collaborators: {\n          ...updateCollaboratorProps(action.collaborators, ['img', 'name'], state.collaborators)\n        },\n        collabInfoLoaded: true\n      };\n    case FETCH_COLLABORATOR_AF_AWARDS_SUCCESS:\n      return {\n        ...state,\n        collaborators: {\n          ...updateCollaboratorProps(action.collaborators, ['awards', 'score'], state.collaborators)\n        },\n        collabAwardsLoaded: true\n      };\n    case CHOOSE_NEW_PLAYLIST:\n      return {\n        ...state,\n        ...initialState\n      }\n    case RESTART_APP:\n      return {\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n\nconst updateCollaboratorProps = (collaborators, properties, prevCollabsState) => {\n  let updatedCollaborators = {};\n  for (let id in collaborators) {\n    updatedCollaborators[id] = {\n      ...prevCollabsState[id]\n    }\n    properties.forEach((property) => {\n      updatedCollaborators[id][property] = collaborators[id][property];\n    });\n  }\n  return updatedCollaborators;\n}","import {\n  ACTIVATE_COLLABORATORS,\n  TOGGLE_COLLABORATOR_CARD,\n  CHOOSE_NEW_PLAYLIST,\n  RESTART_APP } from '../actions/types';\n\nconst initialState = {\n  activeCollaborators: {}\n};\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case ACTIVATE_COLLABORATORS:\n      return {\n        ...state,\n        activeCollaborators: action.activeCollaborators\n      };\n    case TOGGLE_COLLABORATOR_CARD:\n      let collabStates = Object.assign({}, state.activeCollaborators);\n      collabStates[action.payload] = !collabStates[action.payload];\n      return {\n        ...state,\n        activeCollaborators: {\n          ...collabStates\n        }\n      }\n    case CHOOSE_NEW_PLAYLIST:\n      return {\n        ...state,\n        ...initialState\n      }\n    case RESTART_APP:\n      return {\n        ...state,\n        ...initialState\n      };\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport playlistPickerReducer from './playlistPickerReducer';\nimport playlistInfoReducer from './playlistInfoReducer';\nimport collabInfoReducer from './collabInfoReducer';\nimport activeCollabReducer from './activeCollabReducer';\n\nexport default combineReducers({\n  playlists: playlistPickerReducer,\n  playlistInfo: playlistInfoReducer,\n  collabInfo: collabInfoReducer,\n  activeCollab: activeCollabReducer\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\n\nconst initialState = {};\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware)\n  )\n);\n\nexport default store;","export const windowLoc = window.location;\nexport const homeUrl = windowLoc.origin;\nexport const spaUrl = homeUrl + windowLoc.pathname;","export class Score {\n  constructor(scoreSet) {\n    if(!scoreSet) {\n      this.numTracks = 0;\n      this.duration = 0;\n      this.popularity = 0;\n      this.acousticness = 0;\n      this.danceability = 0;\n      this.energy = 0;\n      this.tempo = 0;\n      this.positivity = 0;\n      this.speechiness = 0;\n      this.loudness = 0;\n      this.instrumentalness = 0;\n    }\n    else {\n      this.duration = scoreSet.duration;\n      this.popularity = scoreSet.popularity;\n      this.acousticness = scoreSet.acousticness;\n      this.danceability = scoreSet.danceability;\n      this.energy = scoreSet.energy;\n      this.tempo = scoreSet.tempo;\n      this.positivity = scoreSet.positivity;\n      this.speechiness = scoreSet.speechiness;\n      this.loudness = scoreSet.loudness;\n      this.instrumentalness = scoreSet.instrumentalness;\n    }\n  }\n  increaseNumTracks() {\n    this.numTracks += 1;\n  }\n  increaseDuration(duration) {\n    this.duration += duration;\n  }\n  increasePopularity(popularity) {\n    this.popularity += popularity;\n  }\n  increaseAcousticness(acousticness) {\n    this.acousticness += acousticness;\n  }\n  increaseDanceability(danceability) {\n    this.danceability += danceability;\n  }\n  increaseEnergy(energy) {\n    this.energy += energy;\n  }\n  increaseTempo(tempo) {\n    this.tempo += tempo;\n  }\n  increasePositivity(positivity) {\n    this.positivity += positivity;\n  }\n  increaseSpeechiness(speechiness) {\n    this.speechiness += speechiness;\n  }\n  increaseLoudness(loudness) {\n    this.loudness += loudness;\n  }\n  increaseInstrumentalness(instrumentalness) {\n    this.instrumentalness += instrumentalness;\n  }\n\n  getAverages() { // n = number of tracks\n    const n = this.numTracks;\n    return {\n      popularity: this.popularity/n,\n      acousticness: this.acousticness/n,\n      danceability: this.danceability/n,\n      energy: this.energy/n,\n      tempo: this.tempo/n,\n      positivity: this.positivity/n,\n      speechiness: this.speechiness/n,\n      loudness: this.loudness/n,\n      instrumentalness: this.instrumentalness/n,\n      duration: this.duration/n\n    };\n  }\n}\n","const maxAmountOfAwards = 3;\n\nexport class PersonalAwards {\n  constructor(awardList=[]) {\n    if (awardList.length > maxAmountOfAwards)\n      this.awardList = awardList.slice(0, maxAmountOfAwards);\n    else\n      this.awardList = awardList;\n  }\n\n  addAward(award){\n    if (this.awardList.length > maxAmountOfAwards || !award.id)\n      return false;\n    this.awardList.push(award);\n    return true;\n  }\n}\n","import { Score } from './Score';\nimport { PersonalAwards } from './PersonalAwards';\n\nexport class Collaborator {\n  constructor(id, trackIds=[]){\n    this.id = id;\n    this.trackIds = trackIds;\n    this.numTracksAdded = trackIds.length;\n    this.img = null;\n    this.name = null;\n    this.score = new Score();\n    this.awards = new PersonalAwards();\n  }\n\n  addTrackId(trackId) {\n    this.trackIds.push(trackId);\n    this.score.increaseNumTracks();\n    this.numTracksAdded++;\n  }\n  setImage(img) {\n    this.img = img;\n  }\n  setName(name) {\n    this.name = name;\n  }\n  getNumTracks() {\n    return this.trackIds.length;\n  }\n}\n","import awards from './awards'\n\n// static constants:\nconst primaryColors = [\"red\", \"blue\", \"yellow\", \"green\", \"orange\", \"purple\", \"hotpink\", \"aqua\"];\nconst secondaryColors = [\"rgb(255, 0, 0, 0.2)\", \"rgb(0, 0, 255, 0.2)\", \"rgb(255, 255, 0, 0.2)\",\n                       \"rgb(0, 128, 0, 0.2)\", \"rgb(255, 165, 0, 0.2)\", \"rgb(128, 0, 128, 0.2)\",\n                       \"rgb(255, 105, 180, 0.2)\", \"rgb(0, 255, 255, 0.2)\"];\n\nexport class CollabGroup {\n  constructor(collaborators={}) {\n    this.collabIdToCollabObj = collaborators; // main collaborators object\n    this.collabOrder = []; // order in which collaborators are displayed\n    this.trackIdToCollabId = {}; // mapping of each track id to the id of the collaborator that added them\n    this.awards = JSON.parse(JSON.stringify(awards));\n    let i = 0;\n    for(let id in collaborators) {\n      this.collabOrder.push(id);\n      this.collabIdToCollabObj[id].primaryColor = primaryColors[i%primaryColors.length];\n      this.collabIdToCollabObj[id].secondaryColor = secondaryColors[i%secondaryColors.length];\n      i++;\n      for(let trackIndex in collaborators[id].trackIds) {\n        this.trackIdToCollabId[collaborators[id].trackIds[trackIndex]] = id;\n      }\n    }\n  }\n}","import {\n  FETCH_PLAYLISTS_LOADING,\n  FETCH_PLAYLISTS_SUCCESS,\n  FETCH_PLAYLISTS_FAILURE,\n  ACTIVATE_LOGGED_IN,\n  ACTIVATE_DEMO,\n\n  PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n  FETCH_TRACKS_INFO_SUCCESS,\n  FETCH_TRACKS_INFO_FAILURE,\n\n  FETCH_COLLABORATOR_INFO_SUCCESS,\n  FETCH_COLLABORATOR_INFO_FAILURE,\n  \n  FETCH_COLLABORATOR_AF_AWARDS_SUCCESS,\n  FETCH_COLLABORATOR_AF_AWARDS_FAILURE,\n  ACTIVATE_COLLABORATORS,\n  CHOOSE_NEW_PLAYLIST,\n  RESTART_APP } from './types';\n  \nexport const activateLoggedIn = (token) => {\n  return {\n    type: ACTIVATE_LOGGED_IN,\n    token: token\n  };\n};\n\nexport const activateDemo = () => {\n  return {\n    type: ACTIVATE_DEMO\n  };\n};\n\nexport const startPlaylistPickerLoading = () => {\n  return {\n    type: FETCH_PLAYLISTS_LOADING\n  };\n};\n\nexport const loadedPlaylistsSuccessfully = (playlists) => {\n  return {\n    type: FETCH_PLAYLISTS_SUCCESS,\n    playlists: playlists\n  };\n};\n\nexport const failedToLoadPlaylists = (errMsg, errLinkMsg) => {\n  return {\n    type: FETCH_PLAYLISTS_FAILURE,\n    payload: {\n      msg: errMsg,\n      linkText: errLinkMsg\n    }\n  };\n};\n\nexport const startedLoadingPlaylistInfo = (playlistName) => {\n  return {\n    type: PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n    playlistName: playlistName\n  };\n};\n\nexport const successfullyLoadedPlaylistInfo = (playlistInfo) => {\n  return {\n    type: FETCH_TRACKS_INFO_SUCCESS,\n    payload: { collaborators: playlistInfo.collaborators,\n               order: playlistInfo.order }\n  };\n};\n\nexport const failedToLoadPlaylistInfo = (error) => {\n  return {\n    type: FETCH_TRACKS_INFO_FAILURE,\n    payload: error\n  };\n};\n\nexport const successfullyLoadedCollaboratorInfo = (collaborators) => {\n  return {\n    type: FETCH_COLLABORATOR_INFO_SUCCESS,\n    collaborators: collaborators\n  };\n};\n\nexport const failedToLoadCollaboratorInfo = (error) => {\n  return { \n    type: FETCH_COLLABORATOR_INFO_FAILURE,\n    payload: error\n  };\n};\n\nexport const successfullyLoadedAudioFeatureAwards = (collaborators) => {\n  return {\n    type: FETCH_COLLABORATOR_AF_AWARDS_SUCCESS,\n    collaborators: collaborators\n  };\n};\n\nexport const failedToLoadedAudioFeatureAwards = (error) => {\n  return {\n    type: FETCH_COLLABORATOR_AF_AWARDS_FAILURE,\n    payload: error\n  };\n};\n\nexport const activateCollaborator = (collaborators) => {\n  return {\n    type: ACTIVATE_COLLABORATORS,\n    activeCollaborators: Object.keys(collaborators).reduce((obj, currentValue) => {\n                obj[currentValue] = true;\n                return obj;\n              }, {})\n  };\n}\n\nexport const chooseNewPlaylistAction = () => {\n  return {\n    type: CHOOSE_NEW_PLAYLIST\n  };\n};\n\nexport const restartAppAction = () => {\n  return {\n    type: RESTART_APP\n  };\n};\n","import fetch from \"node-fetch\";\nimport { \n  generateCollabGroupObject,\n  getCollaboratorData,\n  fetchAudioFeatures,\n  chooseEachCollabsAwards,\n  collectAllUsersAFScores,\n  getCollaboratorObjects,\n} from '../spotify/utils';\nimport demo from './demo.json';\nimport { activateLoggedIn, activateDemo, startPlaylistPickerLoading, loadedPlaylistsSuccessfully,\n         failedToLoadPlaylists, startedLoadingPlaylistInfo, failedToLoadPlaylistInfo,\n         successfullyLoadedCollaboratorInfo, failedToLoadCollaboratorInfo,\n         successfullyLoadedAudioFeatureAwards, failedToLoadedAudioFeatureAwards,\n         successfullyLoadedPlaylistInfo, activateCollaborator, chooseNewPlaylistAction,\n         restartAppAction } from './actions';\n\n\n// LOGGED IN (SPOTIFY) PLAYLIST ACTION CREATORS AND HELPER FUNCTIONS\n\nexport function userLoggedIn(token) {\n  return (dispatch) => {\n    dispatch(activateLoggedIn(token));\n  }\n}\n\n/* fetchPlaylists is a function that takes in */\n/* spotify token and returns an async function  */\n/*  that is sent as a prop to the component     */\nexport function fetchPlaylists(token) {\n  return (dispatch) => {\n    dispatch(startPlaylistPickerLoading());\n\n    fetch('https://api.spotify.com/v1/me/playlists', {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    })\n    .then(res => res.json())\n    .then(playlists => {\n      dispatch(loadedPlaylistsSuccessfully(playlists.items));\n    })\n    .catch(error => {\n      dispatch(failedToLoadPlaylists(\"Something went wrong with the connection to the Spotify API\", \"Try with new token!\"))\n    });\n  }\n}\n\nexport function fetchPlaylistInfo(token, playlistInfo) {\n  return (dispatch) => {\n    dispatch(startedLoadingPlaylistInfo(playlistInfo.name));\n    \n    fetchPlaylistTracksInfo(token, playlistInfo.tracks.href, dispatch)\n    .then(tracks => generateCollabGroupObject(tracks))\n    .then((collabGroup) => {\n      const collaborators = collabGroup.collabIdToCollabObj;\n      // should just pass returned data that collabcard users \n      dispatch(successfullyLoadedPlaylistInfo({ collaborators: collaborators, order: collabGroup.collabOrder }));\n      dispatch(activateCollaborator(collaborators));\n      return collabGroup;\n    })\n    .then(collabGroup => {\n      createCollabCards(token, dispatch, collabGroup);\n    })\n    // .catch(err => dispatch({\n    //   type: FETCH_TRACKS_INFO_FAILURE,\n    //   payload: err\n    // }));\n  }\n}\n\nexport function chooseNewPlaylist() {\n  return (dispatch) => {\n    dispatch(chooseNewPlaylistAction());\n  };\n};\n\nexport function restartApp() {\n  return (dispatch) => {\n    dispatch(restartAppAction());\n  };\n};\n\nasync function fetchPlaylistTracksInfo(token, tracksLink, dispatch) {\n  let tracks=[];\n\n  while (tracksLink) {\n    tracksLink = await fetch(tracksLink, {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    })\n    .then(res => res.json())\n    .then(data => {\n      tracks.push(...data.items);\n      return data.next;\n    })\n    .catch(err => dispatch(failedToLoadPlaylistInfo(err)));\n  }\n  return tracks;\n}\n\nfunction createCollabCards(token, dispatch, collabGroup) {\n  getCollaboratorData(token, collabGroup)\n    .then(collaboratorsInfo => {\n      dispatch(successfullyLoadedCollaboratorInfo(collaboratorsInfo));\n    })\n    .catch(err => {\n      dispatch(failedToLoadCollaboratorInfo(err));\n    });\n  fetchAudioFeatures(token, collabGroup)\n    .then(res => {  // format to json\n      let promises = [];\n      res.forEach((audioFeature) => {\n        promises.push(audioFeature.json());\n      });\n      return Promise.all(promises);\n    })\n    .then(res => { // distribute audio_feature scores to corresponding collaborators\n      res.forEach((audioFeatures) => {\n        collectAllUsersAFScores(audioFeatures.audio_features, collabGroup);\n      });\n    })\n    .then(()=>{\n      // Assign the awards and get the newly updated collaborator objects\n      chooseEachCollabsAwards(collabGroup);\n      return getCollaboratorObjects(collabGroup);\n    })\n    .then(collabData => {\n      dispatch(successfullyLoadedAudioFeatureAwards(collabData));\n    })\n    .catch(err => dispatch(failedToLoadedAudioFeatureAwards(err)));\n}\n\n// DEMO ACTION CREATORS AND HELPER FUNCTIONS\nexport function startDemo() {\n  return (dispatch) => {\n    dispatch(activateDemo());\n  };\n}\n\nexport function loadDemoPlaylists() {\n  return (dispatch) => {\n    dispatch(startPlaylistPickerLoading());\n    const playlists = getDemoPlaylists();\n    dispatch(loadedPlaylistsSuccessfully(playlists));\n  };\n}\n\nconst getDemoPlaylists = () => {\n  return demo.playlists;\n}\n\nexport function startAnalyzerDemo(playlistInfo, playlistId) {\n  return (dispatch) => {\n    const collaboratorInfo = demo.playlistIdToCollaboratorsMap[playlistId];\n    const collaborators = collaboratorInfo.collaborators;\n    const orderedCollaborators = collaboratorInfo.orderedCollaborators\n    dispatch(startedLoadingPlaylistInfo(playlistInfo.name));\n    dispatch(successfullyLoadedPlaylistInfo({collaborators: collaborators, \n                                             order: orderedCollaborators}));\n    dispatch(activateCollaborator(collaborators));\n    dispatch(successfullyLoadedCollaboratorInfo(collaborators));\n\n    dispatch(successfullyLoadedAudioFeatureAwards(collaborators))\n  };\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { homeUrl } from '../../util/site';\nimport { Header, Grid, Button, Icon, Menu } from 'semantic-ui-react';\nimport headerStyle from './AnalyzerHeader.module.scss'\n\nimport { chooseNewPlaylist, restartApp } from '../../actions/spotifyActionCreators';\n\nclass AnalyzerHeader extends Component {\n  handleClickChooseNewPlaylist() {\n    this.props.history.push({\n      pathname: \"/spa/choose-playlist\"\n    });\n    \n    this.props.chooseNewPlaylist();\n  }\n\n  handleClickLoginOrDemo() {\n    this.props.history.push({\n      pathname: \"/spa\"\n    });\n    this.props.restartApp();\n  }\n\n  render() {\n    const loggedIn = this.props.loggedIn;\n    const demo = this.props.demo;\n    return (\n      <Menu className={headerStyle['no-box-shadow']} fixed=\"top\">\n        <Menu.Item>\n          <Header as=\"h1\">\n            { this.props.children }\n          </Header>\n        </Menu.Item>\n        <Menu.Menu position=\"right\">\n          {(loggedIn || demo) && \n            <Menu.Item>\n              <Button onClick={() => this.handleClickLoginOrDemo()} animated className={headerStyle.loginOrDemo}>\n                {loggedIn && <Button.Content visible>Demo</Button.Content>}\n                {demo && <Button.Content visible>Login</Button.Content>}\n                <Button.Content hidden><Icon name=\"arrow left\"/></Button.Content>\n              </Button>\n            </Menu.Item>\n          }\n          {this.props.playlistChosen && \n            <Menu.Item>\n              <Button onClick={() => this.handleClickChooseNewPlaylist()} animated className={headerStyle.chooseDiffPlaylist}>\n                <Button.Content visible>Choose Playlist</Button.Content>\n                <Button.Content hidden><Icon name=\"arrow left\"/></Button.Content>\n              </Button>\n            </Menu.Item>\n          }\n          <Menu.Item>\n            <Grid.Column width={3}>\n              <Button href={homeUrl}>Homepage</Button>\n            </Grid.Column>\n          </Menu.Item>\n        </Menu.Menu>\n      </Menu>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  loggedIn: state.playlists.loggedIn,\n  demo: state.playlists.demo,\n  playlistChosen: state.playlistInfo.playlistChosen\n});\n\nexport default withRouter(connect(mapStateToProps, { chooseNewPlaylist, restartApp })(AnalyzerHeader));","import React, { Component } from 'react';\n\nimport { spaUrl } from '../../../util/site';\nimport { Grid, Segment } from 'semantic-ui-react';\n\nimport errStyle from './Error.module.scss';\n\nclass Error extends Component {\n\n  render() {\n    return (\n      <Grid centered columns={2}>\n        <Grid.Column>\n        <Segment inverted color='red' secondary>\n          {this.props.msg}\n          <p><a className={errStyle['error-link']} href={this.props.link ? this.props.link : spaUrl}>{this.props.linkText}</a></p>\n        </Segment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Error;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { parse } from 'query-string';\nimport { startDemo, userLoggedIn } from '../../actions/spotifyActionCreators';\n\nimport { windowLoc } from '../../util/site';\n\nimport { Grid, Button } from 'semantic-ui-react';\nimport Error from '../error-handling/Error/Error';\n\nconst LOGIN_TYPE = 'login';\nconst DEMO_TYPE = 'demo';\n\nclass LoginOrDemo extends Component {\n  constructor(props) {\n    super(props)\n    const token = this.getAccessToken();\n    if (token) {\n      this.props.userLoggedIn(token);\n    }\n  }\n\n  getAccessToken() {\n    const hash = parse(windowLoc.hash);\n    return (hash && hash.access_token);\n  }\n  \n  handleClick = (e, type) => {\n    switch(type) {\n      case LOGIN_TYPE:\n        this.sendUserToSpotifyAuthorize();\n        return;\n      case DEMO_TYPE:\n        this.props.startDemo();\n        return;\n      default:\n        return;\n    }\n  }\n\n  sendUserToSpotifyAuthorize() {\n    const clientID = \"9e240701125547c69d71dce42a0c120b\";\n    const response_type = \"token\";\n    const redirect_uri = windowLoc.href;\n    const scope = \"playlist-read-private playlist-read-collaborative\";\n\n    let spotifyURI = \"https://accounts.spotify.com/authorize?\"\n      + \"client_id=\" + clientID + \"&response_type=\" + response_type\n      + \"&redirect_uri=\" + redirect_uri + \"&scope=\" + scope;\n\n    windowLoc.replace(encodeURI(spotifyURI));\n  }\n\n  render() {\n    const error = this.props.error;\n    if (error) {\n      return <Error msg={error.msg} link={error.link} linkText={error.linkText}/>;\n    }\n\n    if (this.props.loggedIn || this.props.demo) {\n      return (<Redirect to='/spa/choose-playlist'/>);\n    } else {\n      return (\n        <Grid centered>\n          <Grid.Column textAlign=\"center\" width={10}>\n            <Button.Group>\n              <Button onClick={(e) => this.handleClick(e, LOGIN_TYPE)} positive>Login to Analyze Your Playlists</Button>\n              <Button.Or />\n              <Button onClick={(e) => this.handleClick(e, DEMO_TYPE)}>Demo Playlist</Button>\n            </Button.Group>\n          </Grid.Column>\n        </Grid>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  loggedIn: state.playlists.loggedIn,\n  demo: state.playlists.demo\n});\n\nexport default connect(mapStateToProps, { startDemo, userLoggedIn })(LoginOrDemo);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Header, Grid, Menu, Image } from 'semantic-ui-react';\nimport ppStyle from './PlaylistPicker.module.scss';\n\nimport { fetchPlaylists, fetchPlaylistInfo, loadDemoPlaylists, startAnalyzerDemo } from '../../actions/spotifyActionCreators';\nimport Error from '../error-handling/Error/Error';\nimport loading_gif from '../../img/loading.gif';\n\nclass PlaylistPicker extends Component {\n  constructor(props) {\n    super(props);\n\n    if (this.props.demo) {\n      this.props.loadDemoPlaylists();\n    } \n    else if(this.props.token) {\n      this.props.fetchPlaylists(this.props.token);\n    }\n  }\n\n  handleClick(e, playlistInfo, playlistId) {\n    if (this.props.demo) {\n      this.props.startAnalyzerDemo(playlistInfo, playlistId);\n    } \n    else if (this.props.token) {\n      this.props.fetchPlaylistInfo(this.props.token, playlistInfo);\n    }\n  }\n\n  extractCollabPlaylists() {\n    const playlists = this.props.playlists;\n    if (playlists) {\n      let menuItems = [];\n      for (let i = 0; i < playlists.length; i++) {\n        if (playlists[i].collaborative)\n          menuItems.push(<Menu.Item onClick={(e) => this.handleClick(e, playlists[i], playlists[i].id)} key={playlists[i].id} as='a' name={playlists[i].name}>{playlists[i].name}</Menu.Item>);\n      }\n      return menuItems;\n    }\n    return playlists;\n  }\n\n  render() {\n    const error = this.props.error;\n    if (error) {\n      return <Error msg={error.msg} link={error.link} linkText={error.linkText}/>;\n    }\n    if (this.props.playlistChosen && !this.props.loading) {\n      return <Redirect to='/spa/analyze-playlist' />\n    }\n\n    let menuItems = this.extractCollabPlaylists();\n    let loadingSpinner = this.props.loading && <Image src={loading_gif} centered/>;\n    return (!this.props.playlistChosen &&\n      <div>\n        <Header className={ppStyle['offset-header']} textAlign=\"center\" as=\"h2\"> Choose a playlist:</Header>\n        <Grid centered>\n          <Grid.Column width={10}>\n            {!this.props.loading && <Menu inverted fluid vertical>\n              <Menu.Item header>Collaborative Playlists</Menu.Item>\n              {menuItems}\n            </Menu> }\n            {loadingSpinner}\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  playlists: state.playlists.playlists,\n  loading: state.playlists.loading,\n  error: state.playlists.error,\n  demo: state.playlists.demo,\n  token: state.playlists.token,\n  playlistChosen: state.playlistInfo.playlistChosen\n});\n\nexport default connect(mapStateToProps, { fetchPlaylists, fetchPlaylistInfo, loadDemoPlaylists, startAnalyzerDemo})(PlaylistPicker);","import { Collaborator } from './Collaborator';\nimport { CollabGroup } from './CollabGroup';\n\n// export function extractCollaborators(tracks) {\n//   let collaborators = {}, collaborator;\n\n//   tracks.forEach((track) => {\n//     collaborator = collaborators[track.added_by.id];\n\n//     if (!collaborators[collaboratorId]) {\n//       collaborators[collaboratorId] = new Collaborator(collaboratorId);\n//     }\n//     collaborators[collaboratorId].addTrackId(track.track.id);\n//     collaborators[collaboratorId].score.increasePopularity(track.track.popularity);\n//     collaborators[collaboratorId].score.increaseDuration(track.track.duration_ms);\n//   });\n// }\n\nexport function generateCollabGroupObject(tracks) {\n  let collaborators = {}, currentCollaboratorId;\n  tracks.forEach((track) => {\n    currentCollaboratorId = track.added_by.id;\n\n    if (!collaborators[currentCollaboratorId]) {\n      collaborators[currentCollaboratorId] = new Collaborator(currentCollaboratorId);\n    }\n    collaborators[currentCollaboratorId].addTrackId(track.track.id);\n    collaborators[currentCollaboratorId].score.increasePopularity(track.track.popularity);\n    collaborators[currentCollaboratorId].score.increaseDuration(track.track.duration_ms);\n  });\n  return new CollabGroup(collaborators);\n}\n\nexport function getCollaboratorData(token, collabGroup) {\n  let promises = [];\n  for (let collaboratorID in collabGroup.collabIdToCollabObj) {\n    promises.push(fetch('https://api.spotify.com/v1/users/' + collaboratorID, {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    }));\n  }\n\n  return Promise.all(promises)\n    .then(res => {\n      let promises = [];\n      res.forEach(data => {\n        promises.push(data.json());\n      });\n      return Promise.all(promises)\n        .then(res => {\n          res.forEach(collabData => {\n            collabGroup.collabIdToCollabObj[collabData.id].setImage(collabData.images[0].url);\n            collabGroup.collabIdToCollabObj[collabData.id].setName(collabData.display_name);\n          });\n        });\n    })\n    .then(() => {\n      return collabGroup.collabIdToCollabObj;\n    });\n}\n\nexport function fetchAudioFeatures(token, collabGroup) {\n  //TODO:  to support having collaborators having more than 100 songs I need\n  // to loop through collaborator.trackIds one hundred at a time (since thats the max)\n  // per request..\n  const maxTracksPerCall = 100; // this is Spotify API's constant\n  let promises = [], stringTrackIds, numCallsForThisCollaborator, trackIds;\n\n  for (let collaboratorID in collabGroup.collabIdToCollabObj) {\n    trackIds = collabGroup.collabIdToCollabObj[collaboratorID].trackIds;\n    numCallsForThisCollaborator = Math.ceil(trackIds.length / maxTracksPerCall);\n    for (let i = 0; i < numCallsForThisCollaborator; i++) {\n      stringTrackIds = trackIds.slice(0, maxTracksPerCall).join();\n      promises.push(fetch('https://api.spotify.com/v1/audio-features/?ids=' + stringTrackIds, {\n        method: 'GET',\n        headers: {'Authorization': 'Bearer ' + token}\n      }));\n    }\n  }\n\n  return Promise.all(promises);\n}\n\nexport function collectAllUsersAFScores(audioFeaturesArray, collabGroup) {\n  let currentCollaborator;\n  audioFeaturesArray.forEach((audioFeature) => {\n    currentCollaborator = collabGroup.collabIdToCollabObj[collabGroup.trackIdToCollabId[audioFeature.id]];\n    currentCollaborator.score.increaseAcousticness(audioFeature.acousticness);\n    currentCollaborator.score.increaseDanceability(audioFeature.danceability);\n    currentCollaborator.score.increaseEnergy(audioFeature.energy);\n    currentCollaborator.score.increaseInstrumentalness(audioFeature.instrumentalness);\n    currentCollaborator.score.increaseLoudness(audioFeature.loudness);\n    currentCollaborator.score.increaseTempo(audioFeature.tempo);\n    currentCollaborator.score.increasePositivity(audioFeature.valence);\n    currentCollaborator.score.increaseSpeechiness(audioFeature.speechiness);\n  });\n}\n\nexport function chooseEachCollabsAwards(collabGroup) {\n  let collaborator, n, averages;\n  let collabIdToCollabObj = collabGroup.collabIdToCollabObj;\n  for (let collaboratorID in collabIdToCollabObj) {\n    collaborator = collabIdToCollabObj[collaboratorID];\n    n = collaborator.getNumTracks();\n    averages = collaborator.score.getAverages(n);\n\n    let averageAF, currentAward;\n    for (let audioFeatureName in averages) {\n      averageAF = averages[audioFeatureName];\n      currentAward = collabGroup.awards[audioFeatureName];\n      if (averageAF > currentAward.val) {\n        currentAward.id = collaboratorID;\n        currentAward.val = averageAF;\n      }\n    }\n  }\n  let awards = collabGroup.awards;\n  for (let award in awards) {\n    if (collabIdToCollabObj[awards[award].id])\n      collabIdToCollabObj[awards[award].id].awards.addAward(awards[award]);\n  }\n\n  return collabIdToCollabObj;\n}\n\nexport function getCollaboratorObjects(collabGroup) {\n  return collabGroup.collabIdToCollabObj;\n}\n","import {\n  ACTIVATE_COLLABORATORS,\n  TOGGLE_COLLABORATOR_CARD } from './types';\n\nexport function activateCollaborators() {\n  return (dispatch) => {\n    dispatch({\n      type: ACTIVATE_COLLABORATORS,\n      payload: {}\n    })\n  }\n}\n\nexport function toggleActiveCollaborator(id) {\n  return (dispatch) => {\n    dispatch({\n      type: TOGGLE_COLLABORATOR_CARD,\n      payload: id\n    })\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { toggleActiveCollaborator } from '../../../actions/individualCollabActions';\n\nimport { Card, Segment, Image, Icon } from 'semantic-ui-react';\nimport ccStyle from './CollabCard.module.scss';\nimport defaultProfilePic from '../../../img/defaultProfilePic.png';\n\nclass CollabCard extends Component {\n  handleClick = () => {\n    this.props.toggleActiveCollaborator(this.props.id);\n  }\n\n  render() {\n    const collaborator = this.props.collaborator;\n    if (!collaborator) {\n      return null;\n    }\n    \n    const awardsArray = collaborator.awards && collaborator.awards.awardList;\n    const name = collaborator.name ? collaborator.name : \"Unknown\";\n    const color = collaborator.primaryColor;\n    const image = collaborator.img ? collaborator.img : defaultProfilePic;\n    const cardColor = color && this.props.active ? color : \"grey\";\n    // const numTracksAdded = collaborator.trackIds && collaborator.trackIds.length ? collaborator.trackIds.length : \"?\";\n    const numTracksAdded = collaborator.numTracksAdded ? collaborator.numTracksAdded : '?';\n    let awards = [];\n    if (awardsArray) {\n      const iconSize = 'small';\n      for (let i = 0; i <awardsArray.length; i++) {\n        awards.push(<p key={awardsArray[i].icon}>\n                      <Icon name={awardsArray[i].icon} size={iconSize}/>\n                      <span>{awardsArray[i].text}</span>\n                    </p>);\n      }\n    }\n    \n    return (\n      <Card link className={ccStyle.card_border} style={{borderColor: cardColor}} onClick={this.handleClick}>\n        <Segment style={{marginBottom: 0}} basic>\n          <Image className={ccStyle.center_img} style={{borderColor: cardColor}} width='200' height='200' circular src={image} wrapped/>\n        </Segment>\n        <Card.Content>\n          <Card.Header>{name}</Card.Header>\n          <Card.Meta> Added {numTracksAdded} tracks </Card.Meta>\n          <Card.Description>\n            { awards }\n          </Card.Description>\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  active: state.activeCollab.activeCollaborators[props.id],\n  // collaborator info:\n  collaborator: state.collabInfo.collaborators[props.id]\n});\n\nexport default connect(mapStateToProps, { toggleActiveCollaborator }) (CollabCard);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Header, CardGroup, Image } from 'semantic-ui-react';\nimport ccfStyle from './CollabCardsFrame.module.scss';\nimport Error from '../../error-handling/Error/Error';\nimport CollabCard from '../CollabCard/CollabCard';\n\nimport loading_gif from '../../../img/loading.gif';\n\nclass CollabCardsFrame extends Component {\n\n  createCards() {\n    let cards = [];\n    this.props.collaboratorIds.forEach((collaboratorId) => {\n      cards.push(<CollabCard key={\"card_\"+collaboratorId} id={collaboratorId}/>)\n    });\n    return cards;\n  }\n\n  render() {\n    if (this.props.error) {\n      return <Error msg={this.props.error} />;\n    }\n    if (this.props.loading) {\n      return <Image src={loading_gif} centered/>;\n    }\n\n    const name = this.props.playlistName;\n    const cards = this.createCards();\n    //const numOfCollaborators = this.props.collaboratorsModel.order.length;\n\n    const numCardsPerRow = 5;\n\n    return (\n      <div>\n        <Header className={ccfStyle['offset-header']} textAlign=\"center\" as=\"h2\">{name ? \"Playlist \\\"\" +  name + \"\\\" Analysis\": ''}</Header>\n        <CardGroup centered itemsPerRow={numCardsPerRow}>\n          { cards }\n        </CardGroup>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  playlistName: state.playlistInfo.playlistName,\n  loading: state.playlistInfo.loading,\n  error: state.playlistInfo.error,\n  collaboratorIds: state.collabInfo.orderedCollaborators\n});\n\nexport default connect(mapStateToProps, {}) (CollabCardsFrame);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { toggleActiveCollaborator } from '../../../actions/individualCollabActions';\n\nimport { Grid } from 'semantic-ui-react';\nimport { Radar } from 'react-chartjs-2';\n\nclass CollabChart extends Component {\n  constructor(props) {\n    super(props);\n    this.labels = [\"Acousticness\", \"Danceability\", \"Energy\", \"Instrumentalness\", \"Speechiness\", \"Valence\"];\n    this.options = {\n      scale: {\n        ticks: {\n            beginAtZero: true,\n            max: 1\n        }\n      },\n      legend: {\n        onClick: this.legendClickHandler\n      }\n    };\n  }\n  legendClickHandler = (clickEvent, legendClicked) => {\n    this.props.toggleActiveCollaborator(this.props.orderedCollaborators[legendClicked.datasetIndex])\n  }\n  getDatasets = () => {\n    const collaborators = this.props.collaborators;\n    let datasets = [];\n    this.props.orderedCollaborators.forEach((collabID) => {\n      const collaborator = collaborators[collabID];\n      const avgs = {};\n      const numTracks = collaborator.score.numTracks;\n      avgs.acousticness = collaborator.score.acousticness/numTracks;\n      avgs.danceability = collaborator.score.danceability/numTracks;\n      avgs.energy = collaborator.score.energy/numTracks;\n      avgs.instrumentalness = collaborator.score.instrumentalness/numTracks;\n      avgs.speechiness = collaborator.score.speechiness/numTracks;\n      avgs.positivity = collaborator.score.positivity/numTracks;\n      let dataset = {\n        \"label\": collaborator.name,\n        \"data\": [avgs.acousticness,avgs.danceability,avgs.energy,avgs.instrumentalness,\n                 avgs.speechiness,avgs.positivity],\n        \"fill\": true,\n        \"backgroundColor\": collaborator.secondaryColor,\n        \"borderColor\": collaborator.primaryColor,\n        \"pointBackgroundColor\": collaborator.primaryColor,\n        \"pointBorderColor\": \"#fff\",\n        \"pointHoverBackgroundColor\": \"#fff\",\n        \"pointHoverBorderColor\": collaborator.primaryColor,\n        \"hidden\": !this.props.active[collabID]\n      };\n      datasets.push(dataset);\n    });\n    \n    return datasets;\n  }\n\n  render() {\n    if (!this.props.collabAwardsLoaded) {\n      return null;\n    }\n    \n    const data = {\n      labels: this.labels,\n      datasets: this.getDatasets()\n    };\n    return (this.props.collabAwardsLoaded && \n      <Grid centered>\n        <Grid.Column width={10}>\n          <Radar data={data}\n                  options={this.options}\n                  width={50} \n                  height={50} />\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  collaborators: state.collabInfo.collaborators,\n  orderedCollaborators: state.collabInfo.orderedCollaborators,\n  collabInfoLoaded: state.collabInfo.collabInfoLoaded,\n  collabAwardsLoaded: state.collabInfo.collabAwardsLoaded,\n  active: state.activeCollab.activeCollaborators\n});\n\nexport default connect(mapStateToProps, { toggleActiveCollaborator }) (CollabChart);","import React, { Component } from 'react';\n\nimport CollabCardsFrame from './CollabCardsFrame/CollabCardsFrame';\nimport CollabChart from './CollabChart/CollabChart';\n\nclass AnalyzerPage extends Component {\n  render() {\n    return (\n      <div id=\"analyzer_page\">\n        <CollabCardsFrame/>\n        <CollabChart/>\n      </div>\n    );\n  }\n}\n\nexport default AnalyzerPage;","import React, { Component } from 'react';\nimport Error from './Error/Error';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {hasError: false};\n  }\n\n  componentDidCatch(error, info) {\n    this.setState({hasError: true});\n  }\n\n  render() {\n    if(this.state.hasError) {\n      return (\n        <Error msg=\"Something went wrong!\" linkText=\"Try again!\" />\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport { Container } from 'semantic-ui-react';\nimport store from '../store';\n\nimport appStyle from './PlaylistAnalyzerApp.module.scss';\nimport AnalyzerHeader from '../components/AnalyzerHeader/AnalyzerHeader';\nimport LoginOrDemo from '../components/LoginOrDemo/LoginOrDemo';\nimport PlaylistPicker from '../components/PlaylistPicker/PlaylistPicker';\nimport AnalyzerPage from '../components/AnalyzerPage/AnalyzerPage';\nimport ErrorBoundary from '../components/error-handling/ErrorBoundary';\n\nclass PlaylistAnalyzerApp extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter history={createBrowserHistory()}>\n          <Container className={appStyle.container} >\n            <AnalyzerHeader>\n              Spotify Playlist Analyzer\n            </AnalyzerHeader>\n            <ErrorBoundary>\n              <Route exact path='/spa' render={(props) => {\n                return <LoginOrDemo/>\n              }}\n              />\n              <Route path='/spa/choose-playlist' render={(props) => {\n                return <PlaylistPicker/>\n              }}\n              />\n              <Route path='/spa/analyze-playlist' render={(props) => {\n                return <AnalyzerPage/>\n              }}\n              />\n            </ErrorBoundary>\n          </Container>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default PlaylistAnalyzerApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport PlaylistAnalyzerApp from './PlaylistAnalyzerApp/PlaylistAnalyzerApp';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<PlaylistAnalyzerApp/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"offset-header\":\"AnalyzerHeader_offset-header__Ujiqx\",\"no-box-shadow\":\"AnalyzerHeader_no-box-shadow__4ibja\",\"chooseDiffPlaylist\":\"AnalyzerHeader_chooseDiffPlaylist__38FHw\",\"loginOrDemo\":\"AnalyzerHeader_loginOrDemo__XVg53\"};"],"sourceRoot":""}